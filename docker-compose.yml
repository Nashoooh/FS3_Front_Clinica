version: '3.8'

services:
  frontend:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: clinimed-frontend
    ports:
      - "4200:80"
    networks:
      - clinimed-network
    environment:
      - NODE_ENV=production
    depends_on:
      - backend-usuarios
      - backend-laboratorios

  # Si tus microservicios también están en Docker, puedes agregarlos aquí
  # De lo contrario, comenta o elimina estas secciones
  backend-usuarios:
    image: tu-imagen-usuarios:latest  # Reemplaza con tu imagen
    container_name: clinimed-usuarios
    ports:
      - "9000:9000"
    networks:
      - clinimed-network

  backend-laboratorios:
    image: tu-imagen-laboratorios:latest  # Reemplaza con tu imagen
    container_name: clinimed-laboratorios
    ports:
      - "9100:9100"
    networks:
      - clinimed-network

networks:
  clinimed-network:
    driver: bridge
